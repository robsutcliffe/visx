(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[45],{"Hn+V":function(e,t,n){"use strict";n.d(t,"a",(function(){return ne})),n.d(t,"b",(function(){return re}));var r=n("zjfJ"),a=n("ERkP"),i=n.n(a),o=n("cjvV"),u=n("67po"),s=n("oT5u"),l=n.n(s),c=n("aWzz"),h=n.n(c),d=n("JmwF"),f=n("g2fB"),p=n("wQia"),x=n.n(p);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return m(y(t=e.call.apply(e,[this].concat(r))||this),"handleDragMove",(function(e){var n=t.props,r=n.updateBrush,a=n.type;e.isDragging&&r((function(t){var n=t.start,r=t.end,i=0,o=Math.max(n.x,r.x),u=Math.min(n.x,r.x),s=Math.max(n.y,r.y),l=Math.min(n.y,r.y);switch(a){case"right":return i=o+e.dx,g({},t,{activeHandle:a,extent:g({},t.extent,{x0:Math.max(Math.min(i,n.x),t.bounds.x0),x1:Math.min(Math.max(i,n.x),t.bounds.x1)})});case"left":return i=u+e.dx,g({},t,{activeHandle:a,extent:g({},t.extent,{x0:Math.min(i,r.x),x1:Math.max(i,r.x)})});case"bottom":return i=s+e.dy,g({},t,{activeHandle:a,extent:g({},t.extent,{y0:Math.min(i,n.y),y1:Math.max(i,n.y)})});case"top":return i=l+e.dy,g({},t,{activeHandle:a,extent:g({},t.extent,{y0:Math.min(i,r.y),y1:Math.max(i,r.y)})});default:return t}}))})),m(y(t),"handleDragEnd",(function(){var e=t.props,n=e.updateBrush,r=e.onBrushEnd;n((function(e){var t=e.start,n=e.end,a=e.extent;t.x=Math.min(a.x0,a.x1),t.y=Math.min(a.y0,a.y0),n.x=Math.max(a.x0,a.x1),n.y=Math.max(a.y0,a.y1);var i=g({},e,{start:t,end:n,activeHandle:null,isBrushing:!1,extent:{x0:Math.min(t.x,n.x),x1:Math.max(t.x,n.x),y0:Math.min(t.y,n.y),y1:Math.max(t.y,n.y)}});return r&&r(i),i}))})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.stageWidth,n=e.stageHeight,r=e.brush,a=e.type,o=e.handle,u=o.x,s=o.y,l=o.width,c=o.height,h="right"===a||"left"===a?"ew-resize":"ns-resize";return i.a.createElement(x.a,{width:t,height:n,onDragMove:this.handleDragMove,onDragEnd:this.handleDragEnd,resetOnStart:!0},(function(e){var o=e.dragStart,d=e.dragEnd,f=e.dragMove,p=e.isDragging;return i.a.createElement("g",null,p&&i.a.createElement("rect",{fill:"transparent",width:t,height:n,style:{cursor:h},onMouseMove:f,onMouseUp:d,onMouseLeave:d}),i.a.createElement("rect",{x:u,y:s,width:l,height:c,fill:"transparent",className:"visx-brush-handle-"+a,onMouseDown:o,onMouseMove:f,onMouseUp:d,style:{cursor:h,pointerEvents:r.activeHandle||r.isBrushing?"none":"all"}}))}))},r}(i.a.Component);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m(v,"propTypes",{stageWidth:h.a.number.isRequired,stageHeight:h.a.number.isRequired,updateBrush:h.a.func.isRequired,onBrushEnd:h.a.func,handle:h.a.shape({x:h.a.number.isRequired,y:h.a.number.isRequired,width:h.a.number.isRequired,height:h.a.number.isRequired}).isRequired});var w=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return O(M(t=e.call.apply(e,[this].concat(r))||this),"cornerDragMove",(function(e){var n=t.props,r=n.updateBrush,a=n.type;e.isDragging&&r((function(t){var n=t.start,r=t.end,i=Math.max(n.x,r.x),o=Math.min(n.x,r.x),u=Math.max(n.y,r.y),s=Math.min(n.y,r.y),l=0,c=0;switch(a){case"topRight":return l=i+e.dx,c=s+e.dy,b({},t,{activeHandle:a,extent:b({},t.extent,{x0:Math.max(Math.min(l,n.x),t.bounds.x0),x1:Math.min(Math.max(l,n.x),t.bounds.x1),y0:Math.max(Math.min(c,r.y),t.bounds.y0),y1:Math.min(Math.max(c,r.y),t.bounds.y1)})});case"topLeft":return l=o+e.dx,c=s+e.dy,b({},t,{activeHandle:a,extent:b({},t.extent,{x0:Math.max(Math.min(l,r.x),t.bounds.x0),x1:Math.min(Math.max(l,r.x),t.bounds.x1),y0:Math.max(Math.min(c,r.y),t.bounds.y0),y1:Math.min(Math.max(c,r.y),t.bounds.y1)})});case"bottomLeft":return l=o+e.dx,c=u+e.dy,b({},t,{activeHandle:a,extent:b({},t.extent,{x0:Math.max(Math.min(l,r.x),t.bounds.x0),x1:Math.min(Math.max(l,r.x),t.bounds.x1),y0:Math.max(Math.min(c,n.y),t.bounds.y0),y1:Math.min(Math.max(c,n.y),t.bounds.y1)})});case"bottomRight":return l=i+e.dx,c=u+e.dy,b({},t,{activeHandle:a,extent:b({},t.extent,{x0:Math.max(Math.min(l,n.x),t.bounds.x0),x1:Math.min(Math.max(l,n.x),t.bounds.x1),y0:Math.max(Math.min(c,n.y),t.bounds.y0),y1:Math.min(Math.max(c,n.y),t.bounds.y1)})});default:return t}}))})),O(M(t),"cornerDragEnd",(function(){var e=t.props,n=e.updateBrush,r=e.onBrushEnd;n((function(e){var t=e.start,n=e.end,a=e.extent;t.x=Math.min(a.x0,a.x1),t.y=Math.min(a.y0,a.y0),n.x=Math.max(a.x0,a.x1),n.y=Math.max(a.y0,a.y1);var i=b({},e,{start:t,end:n,activeHandle:null,domain:{x0:Math.min(t.x,n.x),x1:Math.max(t.x,n.x),y0:Math.min(t.y,n.y),y1:Math.max(t.y,n.y)}});return r&&r(i),i}))})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.type,n=e.brush,r=e.stageWidth,a=e.stageHeight,o=e.style,u=e.corner,s=o&&o.cursor||("topLeft"===t||"bottomRight"===t?"nwse-resize":"nesw-resize"),l=n.activeHandle||n.isBrushing?"none":"all";return i.a.createElement(x.a,{width:r,height:a,onDragMove:this.cornerDragMove,onDragEnd:this.cornerDragEnd,resetOnStart:!0},(function(e){var n=e.dragMove,c=e.dragEnd,h=e.dragStart,d=e.isDragging;return i.a.createElement("g",null,d&&i.a.createElement("rect",{fill:"transparent",width:r,height:a,style:{cursor:s},onMouseMove:n,onMouseUp:c}),i.a.createElement("rect",b({fill:"transparent",onMouseDown:h,onMouseMove:n,onMouseUp:c,className:"visx-brush-corner-"+t,style:b({cursor:s,pointerEvents:l},o)},u)))}))},r}(i.a.Component);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}O(w,"propTypes",{stageWidth:h.a.number.isRequired,stageHeight:h.a.number.isRequired,updateBrush:h.a.func.isRequired,onBrushEnd:h.a.func,corner:h.a.shape({x:h.a.number.isRequired,y:h.a.number.isRequired,width:h.a.number.isRequired,height:h.a.number.isRequired}).isRequired}),O(w,"defaultProps",{style:{}});var D={cursor:"move"},k=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return B(E(t=e.call.apply(e,[this].concat(r))||this),"selectionDragMove",(function(e){(0,t.props.updateBrush)((function(t){var n=t.start,r=n.x,a=n.y,i=t.end,o=i.x,u=i.y,s=e.dx>0?Math.min(e.dx,t.bounds.x1-o):Math.max(e.dx,t.bounds.x0-r),l=e.dy>0?Math.min(e.dy,t.bounds.y1-u):Math.max(e.dy,t.bounds.y0-a);return S({},t,{isBrushing:!0,extent:S({},t.extent,{x0:r+s,x1:o+s,y0:a+l,y1:u+l})})}))})),B(E(t),"selectionDragEnd",(function(){var e=t.props,n=e.updateBrush,r=e.onBrushEnd;n((function(e){var t=S({},e,{isBrushing:!1,start:S({},e.start,{x:Math.min(e.extent.x0,e.extent.x1),y:Math.min(e.extent.y0,e.extent.y1)}),end:S({},e.end,{x:Math.max(e.extent.x0,e.extent.x1),y:Math.max(e.extent.y0,e.extent.y1)})});return r&&r(t),t}))})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.width,n=e.height,r=e.stageWidth,a=e.stageHeight,o=e.brush,u=e.disableDraggingSelection,s=e.onMouseLeave,l=e.onMouseMove,c=e.onMouseUp,h=e.onClick,d=e.selectedBoxStyle;return i.a.createElement(x.a,{width:t,height:n,resetOnStart:!0,onDragMove:this.selectionDragMove,onDragEnd:this.selectionDragEnd},(function(e){var f=e.isDragging,p=e.dragStart,x=e.dragEnd,g=e.dragMove;return i.a.createElement("g",null,f&&i.a.createElement("rect",{width:r,height:a,fill:"transparent",onMouseUp:x,onMouseMove:g,onMouseLeave:x,style:D}),i.a.createElement("rect",S({x:Math.min(o.extent.x0,o.extent.x1),y:Math.min(o.extent.y0,o.extent.y1),width:t,height:n,className:"visx-brush-selection",onMouseDown:u?void 0:p,onMouseLeave:function(e){s&&s(e)},onMouseMove:function(e){g(e),l&&l(e)},onMouseUp:function(e){x(e),c&&c(e)},onClick:function(e){h&&h(e)},style:{pointerEvents:o.isBrushing||o.activeHandle?"none":"all",cursor:u?void 0:"move"}},d)))}))},r}(i.a.Component);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}B(k,"propTypes",{width:h.a.number.isRequired,height:h.a.number.isRequired,stageWidth:h.a.number.isRequired,stageHeight:h.a.number.isRequired,updateBrush:h.a.func.isRequired,onBrushEnd:h.a.func,disableDraggingSelection:h.a.bool.isRequired,onMouseLeave:h.a.func,onMouseMove:h.a.func,onMouseUp:h.a.func,onClick:h.a.func}),B(k,"defaultProps",{onMouseLeave:null,onMouseUp:null,onMouseMove:null,onClick:null});var A={cursor:"crosshair"},_=function(e){var t,n;function r(t){var n;j(C(n=e.call(this,t)||this),"mouseUpTime",0),j(C(n),"mouseDownTime",0),j(C(n),"getExtent",(function(e,t){var r=n.props,a=r.brushDirection,i=r.width,o=r.height;return{x0:"vertical"===a?0:Math.min(e.x||0,t.x||0),x1:"vertical"===a?i:Math.max(e.x||0,t.x||0),y0:"horizontal"===a?0:Math.min(e.y||0,t.y||0),y1:"horizontal"===a?o:Math.max(e.y||0,t.y||0)}})),j(C(n),"handleDragStart",(function(e){var t=n.props,r=t.onBrushStart,a=t.left,i=t.top,o=t.inheritedMargin,u=o&&o.left?o.left:0,s=o&&o.top?o.top:0,l={x:(e.x||0)+e.dx-a-u,y:(e.y||0)+e.dy-i-s},c=R({},l);r&&r(l),n.updateBrush((function(e){return R({},e,{start:l,end:c,extent:{x0:-1,x1:-1,y0:-1,y1:-1},isBrushing:!0})}))})),j(C(n),"handleDragMove",(function(e){var t=n.props,r=t.left,a=t.top,i=t.inheritedMargin;if(e.isDragging){var o=i&&i.left||0,u=i&&i.top||0,s={x:(e.x||0)+e.dx-r-o,y:(e.y||0)+e.dy-a-u};n.updateBrush((function(e){var t=e.start,r=n.getExtent(t,s);return R({},e,{end:s,extent:r})}))}})),j(C(n),"handleDragEnd",(function(){var e=n.props,t=e.onBrushEnd,r=e.resetOnEnd;n.updateBrush((function(e){var a=e.extent,i=R({},e,{start:{x:a.x0,y:a.y0},end:{x:a.x1,y:a.y1},isBrushing:!1,activeHandle:null});return t&&t(i),r&&n.reset(),i}))})),j(C(n),"getBrushWidth",(function(){var e=n.state.extent,t=e.x0,r=e.x1;return Math.max(Math.max(t,r)-Math.min(t,r),0)})),j(C(n),"getBrushHeight",(function(){var e=n.state.extent,t=e.y1,r=e.y0;return Math.max(Math.max(r,t)-Math.min(r,t),0)})),j(C(n),"handles",(function(){var e=n.props.handleSize,t=n.state.extent,r=t.x0,a=t.x1,i=t.y0,o=t.y1,u=e/2,s=n.getBrushWidth(),l=n.getBrushHeight();return{top:{x:r-u,y:i-u,height:e,width:s+e},bottom:{x:r-u,y:o-u,height:e,width:s+e},right:{x:a-u,y:i-u,height:l+e,width:e},left:{x:r-u,y:i-u,height:l+e,width:e}}})),j(C(n),"corners",(function(){var e=n.props.handleSize,t=n.state.extent,r=t.x0,a=t.x1,i=t.y0,o=t.y1,u=e/2,s=e,l=e;return{topLeft:{x:Math.min(r,a)-u,y:Math.min(i,o)-u,width:s,height:l},topRight:{x:Math.max(r,a)-u,y:Math.min(i,o)-u,width:s,height:l},bottomLeft:{x:Math.min(r,a)-u,y:Math.max(i,o)-u,width:s,height:l},bottomRight:{x:Math.max(r,a)-u,y:Math.max(i,o)-u,width:s,height:l}}})),j(C(n),"updateBrush",(function(e){var t=n.props.onChange;n.setState(e,(function(){t&&t(n.state)}))})),j(C(n),"reset",(function(){var e=n.props,t=e.width,r=e.height;n.updateBrush((function(){return{start:{x:0,y:0},end:{x:0,y:0},extent:{x0:-1,x1:-1,y0:-1,y1:-1},bounds:{x0:0,x1:t,y0:0,y1:r},isBrushing:!1,activeHandle:null}}))}));var r=t.initialBrushPosition,a=r?n.getExtent(r.start,r.end):{x0:-1,x1:-1,y0:-1,y1:-1};return n.state={start:{x:Math.max(0,a.x0),y:Math.max(0,a.y0)},end:{x:Math.max(0,a.x1),y:Math.max(0,a.y1)},extent:a,bounds:{x0:0,x1:n.props.width,y0:0,y1:n.props.height},isBrushing:!1,activeHandle:null},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){var t=this;this.props.width===e.width&&this.props.height===e.height||this.setState((function(){return{bounds:{x0:0,x1:t.props.width,y0:0,y1:t.props.height}}}))},a.render=function(){var e=this,t=this.state,n=t.start,r=t.end,a=this.props,o=a.top,u=a.left,s=a.width,l=a.height,c=a.onMouseLeave,h=a.onMouseUp,p=a.onMouseMove,g=a.onBrushEnd,y=a.onClick,m=a.resizeTriggerAreas,b=a.selectedBoxStyle,M=a.disableDraggingSelection,O=a.clickSensitivity,S=this.handles(),E=this.corners(),B=this.getBrushWidth(),D=this.getBrushHeight(),C=new Set(m);return i.a.createElement(d.a,{className:"visx-brush",top:o,left:u},i.a.createElement(x.a,{width:s,height:l,resetOnStart:!0,onDragStart:this.handleDragStart,onDragMove:this.handleDragMove,onDragEnd:this.handleDragEnd},(function(t){var n=t.dragStart,r=t.isDragging,a=t.dragMove,o=t.dragEnd;return i.a.createElement(f.a,{className:"visx-brush-overlay",fill:"transparent",x:0,y:0,width:s,height:l,onDoubleClick:function(){return e.reset()},onClick:function(t){var n=e.mouseUpTime-e.mouseDownTime;y&&n<O&&y(t)},onMouseDown:function(t){e.mouseDownTime=Date.now(),n(t)},onMouseLeave:function(e){c&&c(e)},onMouseMove:function(e){!r&&p&&p(e),r&&a(e)},onMouseUp:function(t){e.mouseUpTime=Date.now(),h&&h(t),o(t)},style:A})})),n&&r&&i.a.createElement(k,{updateBrush:this.updateBrush,width:B,height:D,stageWidth:s,stageHeight:l,brush:R({},this.state),disableDraggingSelection:M,onBrushEnd:g,onMouseLeave:c,onMouseMove:p,onMouseUp:h,onClick:y,selectedBoxStyle:b}),n&&r&&Object.keys(S).filter((function(e){return C.has(e)})).map((function(t){var n=S[t];return n&&i.a.createElement(v,{key:"handle-"+t,type:t,handle:n,stageWidth:s,stageHeight:l,updateBrush:e.updateBrush,brush:e.state,onBrushEnd:g})})),n&&r&&Object.keys(E).filter((function(e){return C.has(e)})).map((function(t){var n=E[t];return n&&i.a.createElement(w,{key:"corner-"+t,type:t,brush:e.state,updateBrush:e.updateBrush,stageWidth:s,stageHeight:l,corner:n,onBrushEnd:g})})))},r}(i.a.Component);function P(e,t){if(!e.invert){var n=e.range(),r=n[0],a=n[1],i=0,o=e.step()*(a-r)/Math.abs(a-r);if(o>0)for(;t>r+o*(i+1);)i+=1;else for(;t<r+o*(i+1);)i+=1;return i}return e.invert(t)}function L(e,t,n,r){var a,i=P(e,t+(t<n?-r:r)),o=P(e,n+(n<t?-r:r)),u=Math.min(i,o),s=Math.max(i,o);if(e.invert)a={start:u,end:s};else{for(var l=[],c=e.domain(),h=u;h<=s;h+=1)l.push(c[h]);a={values:l}}return a}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}j(_,"propTypes",{brushDirection:h.a.oneOf(["horizontal","vertical","both"]),width:h.a.number.isRequired,height:h.a.number.isRequired,left:h.a.number.isRequired,top:h.a.number.isRequired,onChange:h.a.func,handleSize:h.a.number,resizeTriggerAreas:h.a.array,onBrushStart:h.a.func,onBrushEnd:h.a.func,onMouseLeave:h.a.func,onMouseUp:h.a.func,onMouseMove:h.a.func,onClick:h.a.func,clickSensitivity:h.a.number,disableDraggingSelection:h.a.bool,resetOnEnd:h.a.bool}),j(_,"defaultProps",{brushDirection:"both",inheritedMargin:{left:0,top:0,right:0,bottom:0},onChange:null,handleSize:4,resizeTriggerAreas:["left","right"],onBrushStart:null,onBrushEnd:null,onMouseLeave:null,onMouseUp:null,onMouseMove:null,onClick:null,disableDraggingSelection:!1,clickSensitivity:200,resetOnEnd:!1,initialBrushPosition:null});var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return z(q(t=e.call.apply(e,[this].concat(r))||this),"handleChange",(function(e){var n=t.props.onChange;if(n){var r=e.extent.x0;if("undefined"===typeof r||r<0)n(null);else n(t.convertRangeToDomain(e))}})),z(q(t),"handleBrushStart",(function(e){var n=t.props.onBrushStart;if(n){var r=e.x,a=e.y,i=t.props,o=i.xScale,u=i.yScale,s=P(o,r),l=P(u,a);n({x:o.invert?s:o.domain()[s],y:u.invert?l:u.domain()[l]})}})),z(q(t),"handleBrushEnd",(function(e){var n=t.props.onBrushEnd;if(n){var r=e.extent.x0;if("undefined"===typeof r||r<0)n(null);else n(t.convertRangeToDomain(e))}})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.convertRangeToDomain=function(e){var t=this.props,n=t.xScale,r=t.yScale,a=e.extent,i=a.x0,o=a.x1,u=a.y0,s=a.y1,l=L(n,i||0,o||0,2),c=L(r,u||0,s||0,2);return{x0:l.start||0,x1:l.end||0,xValues:l.values,y0:c.start||0,y1:c.end||0,yValues:c.values}},a.render=function(){var e,t,n,r,a=this.props,o=a.xScale,u=a.yScale,s=a.height,l=a.width,c=a.margin,h=a.brushDirection,d=a.initialBrushPosition,f=a.innerRef,p=a.resizeTriggerAreas,x=a.brushRegion,g=a.yAxisOrientation,y=a.xAxisOrientation,m=a.selectedBoxStyle,v=a.disableDraggingSelection,b=a.resetOnEnd,M=a.onMouseLeave,O=a.onMouseMove,w=a.onClick,S=a.handleSize;if(!o||!u)return null;var E=c&&c.left?c.left:0,B=c&&c.top?c.top:0,D=c&&c.right?c.right:0,k=c&&c.bottom?c.bottom:0;return"chart"===x?(n=0,r=0,e=l,t=s):"yAxis"===x?(r=0,t=s,"right"===g?(n=l,e=D):(n=-E,e=E)):(n=0,e=l,"bottom"===y?(r=s,t=k):(r=-B,t=B)),i.a.createElement(_,{width:e,height:t,left:n,top:r,brushDirection:h,disableDraggingSelection:v,handleSize:S,inheritedMargin:c,initialBrushPosition:d,ref:f,resetOnEnd:b,resizeTriggerAreas:p,selectedBoxStyle:m,onBrushEnd:this.handleBrushEnd,onBrushStart:this.handleBrushStart,onChange:this.handleChange,onClick:w,onMouseLeave:M,onMouseMove:O})},r}(a.Component);z(T,"propTypes",{height:h.a.number,width:h.a.number,onChange:h.a.func,onBrushEnd:h.a.func,brushDirection:h.a.oneOf(["vertical","horizontal","both"]),resizeTriggerAreas:h.a.array,brushRegion:h.a.oneOf(["xAxis","yAxis","chart"]),yAxisOrientation:h.a.oneOf(["left","right"]),xAxisOrientation:h.a.oneOf(["top","bottom"]),disableDraggingSelection:h.a.bool,resetOnEnd:h.a.bool,handleSize:h.a.number}),z(T,"defaultProps",{xScale:null,yScale:null,onChange:null,height:0,width:0,selectedBoxStyle:{fill:"steelblue",fillOpacity:.2,stroke:"steelblue",strokeWidth:1,strokeOpacity:.8},margin:{top:0,left:0,right:0,bottom:0},handleSize:4,brushDirection:"horizontal",initialBrushPosition:null,resizeTriggerAreas:["left","right"],brushRegion:"chart",yAxisOrientation:"right",xAxisOrientation:"bottom",onBrushStart:null,onBrushEnd:null,disableDraggingSelection:!1,resetOnEnd:!1,onMouseMove:null,onMouseLeave:null,onClick:null});var H=T,N=n("a49c"),V=n("Cf/J"),U=n("ue4z"),W=n("9Jhr"),F=n("a7GN"),I=n("KRsa"),J=n("EbDF"),K=i.a.createElement,Y={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#fff"},G={dx:"-0.25em",dy:"0.25em",fontFamily:"Arial",fontSize:10,textAnchor:"end",fill:"#fff"};function Q(e){var t=e.data,n=e.gradientColor,r=e.width,a=e.yMax,i=e.margin,o=e.xScale,u=e.yScale,s=e.hideBottomAxis,l=void 0!==s&&s,c=e.hideLeftAxis,h=void 0!==c&&c,f=e.top,p=e.left,x=e.children;return r<10?null:K(d.a,{left:p||i.left,top:f||i.top},K(V.a,{id:"gradient",from:n,fromOpacity:1,to:n,toOpacity:.2}),K(W.a,{data:t,x:function(e){return o(function(e){return new Date(e.date)}(e))||0},y:function(e){return u(function(e){return e.close}(e))||0},yScale:u,strokeWidth:1,stroke:"url(#gradient)",fill:"url(#gradient)",curve:J.a}),!l&&K(F.a,{top:a,scale:o,numTicks:r>520?10:5,stroke:"#fff",tickStroke:"#fff",tickLabelProps:function(){return Y}}),!h&&K(I.a,{scale:u,numTicks:5,stroke:"#fff",tickStroke:"#fff",tickLabelProps:function(){return G}}),x)}try{Q.displayName="AreaChart",Q.__docgenInfo={description:"",displayName:"AreaChart",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"AppleStock[]"}},gradientColor:{defaultValue:null,description:"",name:"gradientColor",required:!0,type:{name:"string"}},xScale:{defaultValue:null,description:"",name:"xScale",required:!0,type:{name:"ScaleRadial<number, number, never> | ScaleTime<number, number, never> | ScaleLinear<number, number, never> | ScaleLogarithmic<number, number, never> | ... 7 more ... | ScaleOrdinal<...>"}},yScale:{defaultValue:null,description:"",name:"yScale",required:!0,type:{name:"ScaleRadial<number, number, never> | ScaleTime<number, number, never> | ScaleLinear<number, number, never> | ScaleLogarithmic<number, number, never> | ... 7 more ... | ScaleOrdinal<...>"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},yMax:{defaultValue:null,description:"",name:"yMax",required:!0,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!0,type:{name:"{ top: number; right: number; bottom: number; left: number; }"}},hideBottomAxis:{defaultValue:{value:!1},description:"",name:"hideBottomAxis",required:!1,type:{name:"boolean | undefined"}},hideLeftAxis:{defaultValue:{value:!1},description:"",name:"hideLeftAxis",required:!1,type:{name:"boolean | undefined"}},top:{defaultValue:null,description:"",name:"top",required:!1,type:{name:"number | undefined"}},left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"number | undefined"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-brush/AreaChart.tsx#AreaChart"]={docgenInfo:Q.__docgenInfo,name:"AreaChart",path:"src/sandboxes/visx-brush/AreaChart.tsx#AreaChart"})}catch(se){}var X=i.a.createElement;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=l.a.slice(1e3),te={top:10,bottom:15,left:50,right:20},ne="#f6acc8",re="#584153",ae={fill:"url(#".concat("brush_pattern",")"),stroke:"white"},ie=function(e){return new Date(e.date)},oe=function(e){return e.close};function ue(e){var t=e.compact,n=void 0!==t&&t,r=e.width,i=e.height,s=e.margin,l=void 0===s?{top:20,left:50,bottom:20,right:20}:s,c=Object(a.useRef)(null),h=Object(a.useState)(ee),d=h[0],f=h[1],p=i-l.top-l.bottom,x=n?15:40,g=.8*p-x,y=p-g-30,m=Math.max(r-l.left-l.right,0),v=Math.max(g,0),b=Math.max(r-te.left-te.right,0),M=Math.max(y-te.top-te.bottom,0),O=Object(a.useMemo)((function(){return Object(o.a)({range:[0,m],domain:Object(U.b)(d,ie)})}),[m,d]),w=Object(a.useMemo)((function(){return Object(u.a)({range:[v,0],domain:[0,Object(U.c)(d,oe)||0],nice:!0})}),[v,d]),S=Object(a.useMemo)((function(){return Object(o.a)({range:[0,b],domain:Object(U.b)(ee,ie)})}),[b]),E=Object(a.useMemo)((function(){return Object(u.a)({range:[M,0],domain:[0,Object(U.c)(ee,oe)||0],nice:!0})}),[M]),B=Object(a.useMemo)((function(){return{start:{x:S(ie(ee[50]))},end:{x:S(ie(ee[100]))}}}),[S]);return X("div",null,X("svg",{width:r,height:i},X(V.a,{id:"brush_gradient",from:re,to:"#af8baf",rotate:45}),X("rect",{x:0,y:0,width:r,height:i,fill:"url(#".concat("brush_gradient",")"),rx:14}),X(Q,{hideBottomAxis:n,data:d,width:r,margin:$($({},l),{},{bottom:x}),yMax:v,xScale:O,yScale:w,gradientColor:"#af8baf"}),X(Q,{hideBottomAxis:!0,hideLeftAxis:!0,data:ee,width:r,yMax:M,xScale:S,yScale:E,margin:te,top:g+x+l.top,gradientColor:"#af8baf"},X(N.a,{id:"brush_pattern",height:8,width:8,stroke:ne,strokeWidth:1,orientation:["diagonal"]}),X(H,{xScale:S,yScale:E,width:b,height:M,margin:te,handleSize:8,innerRef:c,resizeTriggerAreas:["left","right"],brushDirection:"horizontal",initialBrushPosition:B,onChange:function(e){if(e){var t=e.x0,n=e.x1,r=e.y0,a=e.y1,i=ee.filter((function(e){var i=ie(e).getTime(),o=oe(e);return i>t&&i<n&&o>r&&o<a}));f(i)}},onClick:function(){return f(ee)},selectedBoxStyle:ae}))),X("button",{onClick:function(){(null===c||void 0===c?void 0:c.current)&&(f(ee),c.current.reset())}},"Clear"),"\xa0",X("button",{onClick:function(){if(null===c||void 0===c?void 0:c.current){c.current.updateBrush((function(e){var t=c.current.getExtent(B.start,B.end);return $($({},e),{},{start:{y:t.y0,x:t.x0},end:{y:t.y1,x:t.x1},extent:t})}))}}},"Reset"))}t.c=ue;try{ue.displayName="BrushChart",ue.__docgenInfo={description:"",displayName:"BrushChart",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},margin:{defaultValue:{value:"{\n    top: 20,\n    left: 50,\n    bottom: 20,\n    right: 20,\n  }"},description:"",name:"margin",required:!1,type:{name:"{ top: number; right: number; bottom: number; left: number; } | undefined"}},compact:{defaultValue:{value:!1},description:"",name:"compact",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-brush/Example.tsx#BrushChart"]={docgenInfo:ue.__docgenInfo,name:"BrushChart",path:"src/sandboxes/visx-brush/Example.tsx#BrushChart"})}catch(se){}},KRsa:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("ERkP"),a=n.n(r),i=n("O94r"),o=n.n(i),u=n("5Nbk"),s=n("pn27");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(){return{dx:"-0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"end"}};function h(e){var t=e.axisClassName,n=e.labelOffset,r=void 0===n?36:n,i=e.tickLabelProps,h=void 0===i?c:i,d=e.tickLength,f=void 0===d?8:d,p=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["axisClassName","labelOffset","tickLabelProps","tickLength"]);return a.a.createElement(u.a,l({axisClassName:o()("visx-axis-left",t),labelOffset:r,orientation:s.a.left,tickLabelProps:h,tickLength:f},p))}},LpNs:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0===e?{}:e,n=t.resetOnStart,r=void 0!==n&&n,s=t.onDragEnd,l=t.onDragMove,c=t.onDragStart,h=t.x,d=t.y,f=t.dx,p=t.dy,x=(0,a.useRef)({x:h,y:d,dx:f,dy:p}),g=(0,o.default)({x:h,y:d,dx:null!=f?f:0,dy:null!=p?p:0,isDragging:!1}),y=g[0],m=g[1];(0,a.useEffect)((function(){x.current.x===h&&x.current.y===d&&x.current.dx===f&&x.current.dy===p||(x.current={x:h,y:d,dx:f,dy:p},m((function(e){return u({},e,{x:h,y:d,dx:null!=f?f:0,dy:null!=p?p:0})})))}));var v=(0,a.useCallback)((function(e){e.persist(),m((function(t){var n=(0,i.localPoint)(e)||{x:0,y:0};return{isDragging:!0,dx:r?0:t.dx,dy:r?0:t.dy,x:r?n.x:n.x-t.dx,y:r?n.y:n.y-t.dy}}),c&&function(t){c(u({},t,{event:e}))})}),[c,r,m]),b=(0,a.useCallback)((function(e){e.persist(),m((function(t){var n=(0,i.localPoint)(e)||{x:0,y:0};return t.isDragging?u({},t,{isDragging:!0,dx:n.x-(t.x||0),dy:n.y-(t.y||0)}):t}),l&&function(t){t.isDragging&&l(u({},t,{event:e}))})}),[l,m]),M=(0,a.useCallback)((function(e){e.persist(),m((function(e){return u({},e,{isDragging:!1})}),s&&function(t){s(u({},t,{event:e}))})}),[s,m]);return u({},y,{dragEnd:M,dragMove:b,dragStart:v})};var r,a=n("ERkP"),i=n("MiVw"),o=(r=n("NzS/"))&&r.__esModule?r:{default:r};function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},MiVw:function(e,t,n){"use strict";n.r(t);var r=n("jpI8");n.d(t,"localPoint",(function(){return r.a}));var a=n("VB+g");n.d(t,"touchPoint",(function(){return a.a}))},MrGM:function(e){e.exports=JSON.parse('{"name":"@visx/demo-brush","description":"Standalone visx brush demo.","main":"index.tsx","private":true,"dependencies":{"@babel/runtime":"^7.8.4","@types/react":"^16","@types/react-dom":"^16","@visx/axis":"latest","@visx/brush":"latest","@visx/curve":"latest","@visx/gradient":"latest","@visx/group":"latest","@visx/mock-data":"latest","@visx/pattern":"latest","@visx/responsive":"latest","@visx/scale":"latest","@visx/shape":"latest","d3-array":"^2.4.0","react":"^16.8","react-dom":"^16.8","react-scripts-ts":"3.1.0","typescript":"^3"},"keywords":["visualization","d3","react","visx","brush","interaction"]}')},"NzS/":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,r.useState)(e),n=t[0],a=t[1],i=(0,r.useRef)(null),o=(0,r.useCallback)((function(e,t){i.current=t||null,a(e)}),[a]);return(0,r.useLayoutEffect)((function(){i.current&&(i.current(n),i.current=null)}),[n]),[n,o]};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n("ERkP"));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}},a7GN:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("ERkP"),a=n.n(r),i=n("O94r"),o=n.n(i),u=n("5Nbk"),s=n("pn27");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(){return{dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"}};function h(e){var t=e.axisClassName,n=e.labelOffset,r=void 0===n?8:n,i=e.tickLabelProps,h=void 0===i?c:i,d=e.tickLength,f=void 0===d?8:d,p=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["axisClassName","labelOffset","tickLabelProps","tickLength"]);return a.a.createElement(u.a,l({axisClassName:o()("visx-axis-bottom",t),labelOffset:r,orientation:s.a.bottom,tickLabelProps:h,tickLength:f},p))}},ue4z:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return h}));var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},a=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,a){for(null==r&&(r=0),null==a&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)<0?r=i+1:a=i}return r},right:function(t,n,r,a){for(null==r&&(r=0),null==a&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)>0?a=i:r=i+1}return r}}};var i=a(r);i.right,i.left;var o=function(e,t){var n,r,a,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=a=n;++o<i;)null!=(n=e[o])&&(r>n&&(r=n),a<n&&(a=n))}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=a=n;++o<i;)null!=(n=t(e[o],o,e))&&(r>n&&(r=n),a<n&&(a=n));return[r,a]},u=Array.prototype,s=(u.slice,u.map,function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var l=function(e,t){var n,r,a=e.length,i=-1;if(null==t){for(;++i<a;)if(null!=(n=e[i])&&n>=n)for(r=n;++i<a;)null!=(n=e[i])&&n>r&&(r=n)}else for(;++i<a;)if(null!=(n=t(e[i],i,e))&&n>=n)for(r=n;++i<a;)null!=(n=t(e[i],i,e))&&n>r&&(r=n);return r},c=function(e){for(var t,n,r,a=e.length,i=-1,o=0;++i<a;)o+=e[i].length;for(n=new Array(o);--a>=0;)for(t=(r=e[a]).length;--t>=0;)n[--o]=r[t];return n},h=function(e){if(!(a=e.length))return[];for(var t=-1,n=function(e,t){var n,r,a=e.length,i=-1;if(null==t){for(;++i<a;)if(null!=(n=e[i])&&n>=n)for(r=n;++i<a;)null!=(n=e[i])&&r>n&&(r=n)}else for(;++i<a;)if(null!=(n=t(e[i],i,e))&&n>=n)for(r=n;++i<a;)null!=(n=t(e[i],i,e))&&r>n&&(r=n);return r}(e,d),r=new Array(n);++t<n;)for(var a,i=-1,o=r[t]=new Array(a);++i<a;)o[i]=e[i][t];return r};function d(e){return e.length}},wQia:function(e,t,n){"use strict";t.__esModule=!0,t.default=u;var r=o(n("aWzz")),a=o(n("ERkP")),i=o(n("LpNs"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.captureDragArea,n=void 0===t||t,r=e.children,o=e.dx,u=e.dy,s=e.height,l=e.onDragEnd,c=e.onDragMove,h=e.onDragStart,d=e.resetOnStart,f=e.width,p=e.x,x=e.y,g=(0,i.default)({resetOnStart:d,onDragEnd:l,onDragMove:c,onDragStart:h,x:p,y:x,dx:o,dy:u});return a.default.createElement(a.default.Fragment,null,g.isDragging&&n&&a.default.createElement("rect",{width:f,height:s,onMouseMove:g.dragMove,onMouseUp:g.dragEnd,fill:"transparent"}),r(g))}u.propTypes={children:r.default.func.isRequired,width:r.default.number.isRequired,height:r.default.number.isRequired,captureDragArea:r.default.bool}}}]);